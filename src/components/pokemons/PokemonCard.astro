---
interface Props {
    name:string;
    url: string;
    isBig?: boolean;
}

/* import { Image } from "astro:assets";
import type { PokemonResponse } from "../../interfaces/pokemon.response"; */
const {name , url, isBig = false} = Astro.props;
const id = url.split('/').at(-2);
const imageSrc = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${id}.png`
/* const resp = fetch(url);
const data = (await resp.json()) as PokemonResponse;
const image = data.sprites.other.official-artwork.front_default */
---
<!-- href={`/pokemons/${name}`}
 --><a 
    href={`/pokemons/${name}`}
    class:list={
        [
            `rounded flex flex-col justify-center items-center p-2`,
            {
                border: !isBig,
            },
        ]
    }>

    <img 
        transition:name={`${name}-image`}
        class:list={[
                {'w-128 h-128': isBig,
                'w-24 h-24': !isBig,}
        ]},
        src={imageSrc} alt={name} />

    <span class:list={[
        `capitalize`,
        {
            'text-4xl': isBig,
        },
        ]}>#{id} {name}</span>
</a>